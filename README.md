# Thonny AI Chat å¤–æ›ç¨‹å¼ (thonny-chatbot-plugin)

[![PyPI version](https://badge.fury.io/py/thonny-chatbot-plugin.svg)](https://badge.fury.io/py/thonny-chatbot-plugin) <!-- å¦‚æœæ‚¨ç™¼ä½ˆåˆ° PyPIï¼Œè«‹ç¢ºä¿åç¨±åŒ¹é… -->
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python Versions](https://img.shields.io/pypi/pyversions/thonny-chatbot-plugin.svg)](https://pypi.org/project/thonny-chatbot-plugin/) <!-- åŒä¸Š -->

ä¸€å€‹åœ¨ Thonny IDE ä¸­æä¾› AI èŠå¤©ä»‹é¢çš„å¤–æ›ç¨‹å¼ã€‚å®ƒå…è¨±æ‚¨ç›´æ¥åœ¨ Thonny ä¸­èˆ‡å¤§å‹èªè¨€æ¨¡å‹ (LLM) äº’å‹•ï¼Œç²å–ç¨‹å¼ç¢¼è§£é‡‹ã€å»ºè­°æˆ–é€²è¡Œä¸€èˆ¬å°è©±ã€‚

<!-- å¼·çƒˆå»ºè­°åœ¨æ­¤è™•æ·»åŠ ä¸€å€‹æˆªåœ–æˆ– GIF å‹•ç•«ä¾†å±•ç¤ºå¤–æ›ä»‹é¢ -->
<!-- ![Screenshot](images/screenshot.png) -->
![ezgif-2c438ab725b002](https://github.com/user-attachments/assets/4edd34cf-7832-4af2-b35d-cebfd58fb8db)


## âœ¨ åŠŸèƒ½ç‰¹è‰²

*   **æ•´åˆå¼èŠå¤©ä»‹é¢:** ç›´æ¥åœ¨ Thonny çš„å´é‚Šé¢æ¿æä¾›ä¸€å€‹ AI èŠå¤©è¦–çª—ã€‚
*   **æ”¯æ´ API é…ç½®:** å¯é€éè¨­å®šå°è©±æ¡†é…ç½® AI æœå‹™çš„ API URLã€API Key å’Œé¸æ“‡æ¨¡å‹ (ä¾‹å¦‚ OpenAI APIã€æœ¬åœ° Ollama æˆ–å…¶ä»–ç›¸å®¹ API)ã€‚
*   **æ¨¡å‹åˆ—è¡¨ç²å–:** è‡ªå‹•å¾è¨­å®šçš„ API URL ç²å–å¯ç”¨çš„æ¨¡å‹åˆ—è¡¨ã€‚
*   **ä¸²æµå›è¦† (Streaming):** AI çš„å›è¦†æœƒå³æ™‚é¡¯ç¤ºï¼Œç„¡éœ€ç­‰å¾…å®Œæ•´å›è¦†ç”Ÿæˆã€‚
*   **å°è©±æ­·å²:** è¨˜éŒ„ç•¶å‰çš„å°è©±æ­·å² (æ³¨æ„ï¼šç›®å‰é—œé–‰ Thonny å¾Œæ­·å²ä¸æœƒä¿å­˜)ã€‚
*   **æ¸…é™¤å°è©±:** æä¾›æŒ‰éˆ•å¿«é€Ÿæ¸…é™¤èŠå¤©è¨˜éŒ„ã€‚
*   **ç³»çµ±èªè¨€æç¤º:** è‡ªå‹•æª¢æ¸¬ç³»çµ±èªè¨€ï¼Œä¸¦åœ¨ç™¼é€è«‹æ±‚æ™‚æç¤º AI ä½¿ç”¨è©²èªè¨€å›è¦†ã€‚
*   **Markdown æ¸²æŸ“:** æ”¯æ´åŸºæœ¬çš„ Markdown æ ¼å¼é¡¯ç¤º (ç²—é«”ã€æ–œé«”ã€ç¨‹å¼ç¢¼å€å¡Š)ã€‚
*   **èŠå¤©å…§å®¹è¤‡è£½:** åœ¨èŠå¤©è¦–çª—ä¸­å³éµé»æ“Šï¼Œå¯ä»¥ï¼š
    *   è¤‡è£½é¸å–çš„æ–‡å­—ã€‚
    *   è¤‡è£½æ•´å€‹ç¨‹å¼ç¢¼å€å¡Šã€‚
    *   è¤‡è£½æ•´æ¢è¨Šæ¯ (åŸå§‹ Markdown æˆ–ç´”æ–‡å­—)ã€‚
*   **ç·¨è¼¯å™¨æ•´åˆ (Explain Selection):**
    *   åœ¨ç¨‹å¼ç¢¼ç·¨è¼¯å™¨ä¸­é¸å–æ–‡å­—å¾Œï¼Œå³éµé¸å–®æœƒå‡ºç¾ã€ŒğŸ¤–Explain Selection (AI Chat)ã€é¸é …ã€‚
    *   é»æ“Šå¾Œæœƒå°‡é¸å–çš„æ–‡å­—ç™¼é€åˆ° AI èŠå¤©è¦–çª—ï¼Œè¦æ±‚ AI é€²è¡Œè§£é‡‹ã€‚
*   **Shell æ•´åˆ (Explain Selection):**
    *   åœ¨ Shell è¦–çª—ä¸­é¸å–æ–‡å­—å¾Œï¼Œå³éµé¸å–®ä¹Ÿæœƒå‡ºç¾ã€ŒğŸ¤–Explain Selection (AI Chat)ã€é¸é …ã€‚
    *   åŒæ¨£æœƒå°‡é¸å–çš„æ–‡å­—ç™¼é€åˆ° AI èŠå¤©è¦–çª—è¦æ±‚è§£é‡‹ã€‚
*   **ç¨ç«‹è¨­å®šé¸å–®:** åœ¨ Thonny ä¸»é¸å–®æ–°å¢ "AI" é¸å–®ï¼ŒåŒ…å« "Settings..." é …ç›®ï¼Œæ–¹ä¾¿å­˜å–è¨­å®šã€‚

## ğŸ“¦ å®‰è£

æœ‰å…©ç¨®å®‰è£æ–¹å¼ï¼š

1.  **é€é Thonny å¤–æ›ç®¡ç†å™¨ (æ¨è–¦):**
    *   é–‹å•Ÿ Thonny IDEã€‚
    *   å‰å¾€ `å·¥å…· (Tools)` > `ç®¡ç†å¤–æ› (Manage plug-ins...)`ã€‚
    *   æœå°‹ `thonny-chatbot-plugin`ã€‚
    *   é»æ“Šå®‰è£ã€‚
    *   **å®Œå…¨é—œé–‰ä¸¦é‡æ–°å•Ÿå‹• Thonny IDE** ä»¥è¼‰å…¥å¤–æ›ã€‚

2.  **é€é pip:**
    *   é–‹å•Ÿæ‚¨çš„ç³»çµ±çµ‚ç«¯æ©Ÿæˆ–å‘½ä»¤æç¤ºå­—å…ƒã€‚
    *   åŸ·è¡Œ `pip install thonny-chatbot-plugin`ã€‚
    *   **å®Œå…¨é—œé–‰ä¸¦é‡æ–°å•Ÿå‹• Thonny IDE** ä»¥è¼‰å…¥å¤–æ›ã€‚

## ğŸš€ ä½¿ç”¨æ–¹å¼

1.  **è¨­å®š API:**
    *   å®‰è£ä¸¦é‡æ–°å•Ÿå‹• Thonny å¾Œï¼Œæ‚¨æœƒåœ¨ä¸»é¸å–®çœ‹åˆ°ä¸€å€‹æ–°çš„ `AI` é¸å–®ã€‚
    *   é»æ“Š `AI` > `Settings...` é–‹å•Ÿè¨­å®šå°è©±æ¡†ã€‚
    *   **API URL:** è¼¸å…¥æ‚¨çš„ AI æœå‹™ç«¯é»ã€‚
        *   ä¾‹å¦‚ï¼ŒOpenAI API: `https://api.openai.com/v1`
        *   ä¾‹å¦‚ï¼Œæœ¬åœ° Ollama (é è¨­): `http://localhost:11434/api` (è«‹ç¢ºèªæ‚¨çš„ Ollama ç«¯é»)
        *   å°æ–¼ OpenAI ç›¸å®¹çš„ APIï¼Œé€šå¸¸æ˜¯ `/v1` çµå°¾ã€‚
    *   **API Key:** è¼¸å…¥æ‚¨çš„ API é‡‘é‘°ã€‚å°æ–¼åƒ Ollama é€™æ¨£çš„æœ¬åœ°æœå‹™ï¼Œå¯èƒ½ä¸éœ€è¦é‡‘é‘°ï¼Œå¯ä»¥ç•™ç©ºæˆ–è¼¸å…¥ä»»æ„å­—å…ƒ (å¦‚ "ollama")ã€‚
    *   **Model:**
        *   é»æ“Š `Refresh Models` æŒ‰éˆ•ï¼Œå¤–æ›æœƒå˜—è©¦å¾æ‚¨æä¾›çš„ API URL ç²å–æ¨¡å‹åˆ—è¡¨ã€‚
        *   æˆåŠŸå¾Œï¼Œå¾ä¸‹æ‹‰é¸å–®ä¸­é¸æ“‡æ‚¨æƒ³è¦ä½¿ç”¨çš„æ¨¡å‹ã€‚
    *   é»æ“Š `Save & Close`ã€‚

2.  **é–‹å•ŸèŠå¤©è¦–çª—:**
    *   è¨­å®šå®Œæˆå¾Œï¼ŒAI èŠå¤©ä»‹é¢ (`AI Chat Interface`) æ‡‰è©²æœƒå‡ºç¾åœ¨ Thonny çš„æŸå€‹é¢æ¿å€åŸŸ (é è¨­è¨»å†Šåœ¨ `w` - West/å·¦å´)ã€‚
    *   å¦‚æœæ²’æœ‰çœ‹åˆ°ï¼Œè«‹æª¢æŸ¥ `æª¢è¦– (View)` é¸å–®ï¼Œç¢ºä¿ `AI Chat Interface` è¢«å‹¾é¸ã€‚å¦‚æœé‚„æ˜¯æ²’æœ‰ï¼Œè«‹å˜—è©¦å†æ¬¡é‡æ–°å•Ÿå‹• Thonnyã€‚

3.  **é–‹å§‹èŠå¤©:**
    *   åœ¨åº•éƒ¨çš„è¼¸å…¥æ¡†ä¸­è¼¸å…¥æ‚¨çš„è¨Šæ¯ã€‚
    *   æŒ‰ä¸‹ `Ctrl + Enter`ã€`Shift + Enter` (Windows/Linux) æˆ– `Command + Return` (macOS) æˆ–é»æ“Š `Send` æŒ‰éˆ•ç™¼é€è¨Šæ¯ã€‚
    *   AI çš„å›è¦†å°‡æœƒä¸²æµé¡¯ç¤ºåœ¨èŠå¤©è¦–çª—ä¸­ã€‚

4.  **ä½¿ç”¨ Explain Selection:**
    *   åœ¨ Thonny çš„ç¨‹å¼ç¢¼ç·¨è¼¯å™¨æˆ– Shell ä¸­é¸å–ä¸€æ®µç¨‹å¼ç¢¼æˆ–æ–‡å­—ã€‚
    *   åœ¨é¸å–çš„æ–‡å­—ä¸ŠæŒ‰å³éµã€‚
    *   é¸æ“‡ `ğŸ¤–Explain Selection (AI Chat)`ã€‚
    *   èŠå¤©è¦–çª—æœƒè‡ªå‹•é¡¯ç¤ºï¼Œä¸¦å°‡æ‚¨çš„è«‹æ±‚ç™¼é€çµ¦ AIã€‚

5.  **å…¶ä»–æ“ä½œ:**
    *   é»æ“ŠèŠå¤©è¦–çª—ä¸‹æ–¹çš„ `Clear` æŒ‰éˆ•å¯ä»¥æ¸…ç©ºç•¶å‰çš„å°è©±ç´€éŒ„ã€‚
    *   åœ¨èŠå¤©å…§å®¹ä¸ŠæŒ‰å³éµå¯ä»¥åŸ·è¡Œè¤‡è£½æ“ä½œã€‚

## âš™ï¸ é…ç½®è©³æƒ…

æ‰€æœ‰è¨­å®šéƒ½åœ¨ `AI` > `Settings...` å°è©±æ¡†ä¸­å®Œæˆï¼š

*   **API URL:** AI æœå‹™çš„åŸºç¤ URLã€‚å¤–æ›æœƒåœ¨æ­¤åŸºç¤ä¸Šé™„åŠ  `/models` ä¾†ç²å–æ¨¡å‹åˆ—è¡¨ï¼Œä»¥åŠ `/chat/completions` ä¾†ç™¼é€èŠå¤©è«‹æ±‚ã€‚
*   **API Key:** ç”¨æ–¼é©—è­‰æ‚¨çš„è«‹æ±‚çš„é‡‘é‘°ã€‚è«‹å¦¥å–„ä¿ç®¡ã€‚
*   **Model:** å¾ API ç²å–çš„å¯ç”¨æ¨¡å‹åˆ—è¡¨ã€‚æ‚¨å¿…é ˆé¸æ“‡ä¸€å€‹æ¨¡å‹æ‰èƒ½é€²è¡ŒèŠå¤©ã€‚

è¨­å®šæœƒå„²å­˜åœ¨ Thonny çš„è¨­å®šæª”ä¸­ã€‚

## ğŸ”— ä¾è³´é …

*   `requests>=2.20.0`: ç”¨æ–¼å‘ AI API ç™¼é€ HTTP è«‹æ±‚ã€‚

## ğŸ¤ è²¢ç»

æ­¡è¿å„ç¨®å½¢å¼çš„è²¢ç»ï¼å¦‚æœæ‚¨ç™¼ç¾äº† Bugã€æœ‰åŠŸèƒ½å»ºè­°æˆ–æƒ³æ”¹é€²ç¨‹å¼ç¢¼ï¼š

1.  è«‹å…ˆåˆ° [Issue Tracker](https://github.com/pondahai/thonny_chatbot_plugin/issues) æŸ¥çœ‹æ˜¯å¦å·²æœ‰ç›¸é—œè¨è«–ã€‚
2.  å¦‚æœæ²’æœ‰ï¼Œè«‹å»ºç«‹ä¸€å€‹æ–°çš„ Issue ä¾†æè¿°æ‚¨çš„å•é¡Œæˆ–å»ºè­°ã€‚
3.  å¦‚æœæ‚¨æƒ³æäº¤ç¨‹å¼ç¢¼ï¼Œè«‹ Fork é€™å€‹å°ˆæ¡ˆï¼Œå»ºç«‹æ‚¨çš„åŠŸèƒ½åˆ†æ”¯ï¼Œé€²è¡Œä¿®æ”¹ï¼Œç„¶å¾Œæäº¤ Pull Requestã€‚

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT æˆæ¬Š](LICENSE)ã€‚ <!-- å»ºè­°åœ¨æ‚¨çš„å€‰åº«ä¸­åŒ…å«ä¸€å€‹ LICENSE æª”æ¡ˆ -->

## ğŸ™ è‡´è¬

[![paypal](https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif)](https://www.paypal.me/pondahai)


*   æ„Ÿè¬ [Thonny IDE](https://thonny.org/) æä¾›äº†ä¸€å€‹å„ªç§€ä¸”æ˜“æ–¼æ“´å±•çš„ Python é–‹ç™¼ç’°å¢ƒã€‚
